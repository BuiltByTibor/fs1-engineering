<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comprehensive mechanical engineering resources for students">
    <title>FS1 Engineering Resources</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Base colors */
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #121212;
            --success: #27ae60;
            --warning: #f39c12;
            --text: #333;
            --bg: #f9f9f9;
            --card: #fff;
            --border: #ddd;
            
            /* Language theme defaults */
            --theme-primary: #2c3e50;
            --theme-secondary: #3498db;
            --theme-accent: #e74c3c;
            --theme-header: #2c3e50;
            
            /* Mechanical design elements */
            --gear-color: #7f8c8d;
            --bolt-color: #bdc3c7;
            
            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            
            /* Typography */
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
        }

        /* French flag colors */
        [data-language="fr"] {
            --theme-primary: #0055A4;
            --theme-secondary: #FFFFFF;
            --theme-accent: #EF4135;
            --theme-header: #0055A4;
        }
        
        [data-theme="dark"] {
            --text: #ecf0f1;
            --bg: #121212;
            --card: #1e1e1e;
            --border: #333;
            --gear-color: #555;
            --bolt-color: #777;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        code, pre {
            font-family: 'Source Code Pro', monospace;
        }

        /* Mechanical Design Background Elements */
        .mechanical-design {
            position: fixed;
            pointer-events: none;
            z-index: -1;
            opacity: 0.05;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .gear {
            color: var(--gear-color);
            font-size: 15vw;
            position: absolute;
            animation: rotate 20s linear infinite;
            will-change: transform;
        }
        
        .gear.small {
            font-size: 10vw;
            animation: rotate-reverse 15s linear infinite;
        }
        
        .bolt {
            color: var(--bolt-color);
            font-size: 5vw;
            position: absolute;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes rotate-reverse {
            from { transform: rotate(0deg); }
            to { transform: rotate(-360deg); }
        }

        /* Skip to content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--theme-primary);
            color: white;
            padding: var(--space-sm);
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        header {
            background: var(--theme-header);
            color: white;
            padding: var(--space-md) var(--space-xl);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .logo h1 {
            margin: 0;
            font-size: var(--text-2xl);
            font-weight: 700;
        }

        .logo p {
            margin: 0;
            opacity: 0.8;
            font-size: var(--text-sm);
        }

        .controls {
            display: flex;
            gap: var(--space-md);
            align-items: center;
        }

        select, button {
            padding: var(--space-sm);
            border-radius: 4px;
            border: none;
            font-family: inherit;
            font-size: var(--text-base);
            cursor: pointer;
        }

        #language-select {
            background: rgba(255,255,255,0.9);
            min-width: 120px;
            color: var(--primary);
        }

        #dark-mode-toggle {
            background: transparent;
            color: white;
            cursor: pointer;
            font-size: var(--text-xl);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            transition: background-color 0.2s;
        }

        #dark-mode-toggle:hover {
            background: rgba(255,255,255,0.1);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: var(--space-lg);
            padding: var(--space-md) 0;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: var(--space-sm) 0;
            transition: opacity 0.2s;
        }

        nav a:hover {
            opacity: 0.9;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: white;
            transition: width 0.3s;
        }

        nav a:hover::after {
            width: 100%;
        }

        main {
            max-width: 1200px;
            margin: var(--space-xl) auto;
            padding: 0 var(--space-xl);
        }

        section {
            margin-bottom: var(--space-xl);
            background: var(--card);
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            overflow: hidden;
            border-left: 5px solid var(--theme-primary);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .section-header {
            padding: var(--space-lg) var(--space-xl);
            background: var(--theme-primary);
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .section-header h2 {
            color: white;
            margin: 0;
            font-size: var(--text-xl);
        }

        .section-content {
            padding: var(--space-xl);
            display: none;
        }

        .section-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bio-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-xl);
        }

        .motivation-box {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--theme-secondary);
            padding: var(--space-lg);
            border-radius: 0 8px 8px 0;
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-lg);
        }

        .module-card {
            background: var(--card);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border-left: 5px solid var(--theme-primary);
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .module-header {
            background: var(--theme-primary);
            color: white;
            padding: var(--space-md);
            transition: background-color 0.3s ease;
        }

        .module-body {
            padding: var(--space-lg);
        }

        .view-module-btn {
            background: var(--theme-primary);
            color: white;
            border: none;
            padding: var(--space-sm) var(--space-md);
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: var(--space-md);
            display: inline-block;
        }

        .view-module-btn:hover {
            background: var(--theme-secondary);
        }

        .topic-list {
            list-style: none;
            margin-top: var(--space-md);
        }

        .topic-list li {
            padding: var(--space-sm) 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .topic-list li:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .topic-list li:last-child {
            border-bottom: none;
        }

        .topic-content {
            display: none;
            padding: var(--space-md);
            margin-top: var(--space-md);
            background: rgba(52, 152, 219, 0.05);
            border-radius: 8px;
            border-left: 3px solid var(--theme-secondary);
        }

        .topic-content.active {
            display: block;
        }

        .flashcard-container {
            margin: var(--space-lg) 0;
            position: relative;
        }

        .flashcard-counter {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--theme-accent);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: bold;
        }

        .flashcard {
            background: var(--theme-secondary);
            color: white;
            padding: var(--space-lg);
            border-radius: 8px;
            cursor: pointer;
            height: 200px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            margin-bottom: var(--space-md);
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: calc(100% - 3rem);
            height: calc(100% - 3rem);
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
            text-align: center;
        }

        .flashcard-back {
            transform: rotateY(180deg);
        }

        .flashcard-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-md);
        }

        .flashcard-btn {
            padding: var(--space-sm) var(--space-md);
            background: var(--theme-primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .flashcard-btn:hover:not(:disabled) {
            background: var(--theme-secondary);
        }

        .flashcard-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .practice-question {
            margin: var(--space-lg) 0;
            padding: var(--space-md);
            border-left: 3px solid var(--theme-accent);
            background: rgba(231, 76, 60, 0.05);
        }

        .show-solution-btn {
            background: var(--theme-primary);
            color: white;
            border: none;
            padding: var(--space-sm) var(--space-md);
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: var(--space-sm);
        }

        .show-solution-btn:hover {
            background: var(--theme-secondary);
        }

        .solution {
            display: none;
            padding: var(--space-sm) 0;
        }

        .solution pre {
            background: rgba(0,0,0,0.05);
            padding: var(--space-sm);
            border-radius: 4px;
            overflow-x: auto;
            margin: var(--space-sm) 0;
        }

        .real-example {
            background: rgba(46, 204, 113, 0.05);
            padding: var(--space-md);
            border-left: 3px solid var(--success);
            margin: var(--space-lg) 0;
        }

        .opportunities-list {
            list-style-type: none;
        }

        .opportunities-list li {
            padding: var(--space-sm) 0;
            border-bottom: 1px dashed var(--border);
        }

        .tools-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-lg);
        }

        .tool-card {
            padding: var(--space-md);
            border-radius: 8px;
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--theme-secondary);
            transition: transform 0.2s;
        }

        .tool-card:hover {
            transform: translateY(-3px);
        }

        .tool-card h4 {
            margin-bottom: var(--space-sm);
        }

        footer {
            background: var(--theme-primary);
            color: white;
            text-align: center;
            padding: var(--space-xl);
            margin-top: var(--space-xl);
            transition: background-color 0.3s ease;
        }

        /* Back button */
        .back-button {
            display: inline-block;
            margin-bottom: var(--space-md);
            padding: var(--space-sm) var(--space-md);
            background: var(--theme-primary);
            color: white;
            border-radius: 4px;
            text-decoration: none;
            transition: background-color 0.2s;
        }

        .back-button:hover {
            background: var(--theme-secondary);
        }

        /* Loading spinner */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .controls {
                width: 100%;
                justify-content: space-between;
                margin: var(--space-md) 0;
            }
            
            nav ul {
                flex-direction: column;
                gap: var(--space-sm);
            }
            
            .bio-card,
            .module-grid {
                grid-template-columns: 1fr;
            }
            
            .mechanical-design {
                display: none;
            }
            
            .section-header,
            .section-content {
                padding: var(--space-md);
            }
        }

        @media (max-width: 480px) {
            main {
                padding: 0 var(--space-md);
            }
            
            .gear {
                font-size: 25vw;
            }
            
            .gear.small {
                font-size: 15vw;
            }
            
            .bolt {
                font-size: 10vw;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link" data-translate="skipLink">Skip to content</a>

    <!-- Mechanical Design Background Elements -->
    <div class="mechanical-design">
        <div class="gear" style="top: 10%; left: 5%;">‚öôÔ∏è</div>
        <div class="gear small" style="top: 25%; left: 20%;">‚öôÔ∏è</div>
        <div class="bolt" style="top: 70%; left: 15%;">üî©</div>
        <div class="gear" style="top: 60%; right: 10%;">‚öôÔ∏è</div>
        <div class="gear small" style="top: 30%; right: 15%;">‚öôÔ∏è</div>
        <div class="bolt" style="top: 80%; right: 20%;">üî©</div>
    </div>

    <header>
        <div class="header-container">
            <div class="logo">
                <h1 data-translate="siteTitle">FS1 Engineering</h1>
                <p data-translate="siteSubtitle">Mechanical Engineering Resources</p>
            </div>
            
            <div class="controls">
                <select id="language-select" aria-label="Select language">
                    <option value="en">English</option>
                    <option value="fr">Fran√ßais</option>
                </select>
                
                <button id="dark-mode-toggle" aria-label="Toggle dark mode">üåô</button>
            </div>
        </div>
        
        <nav aria-label="Main navigation">
            <div class="header-container">
                <ul>
                    <li><a href="#about" data-translate="navAbout">About</a></li>
                    <li><a href="#modules" data-translate="navModules">Modules</a></li>
                    <li><a href="#opportunities" data-translate="navOpportunities">Opportunities</a></li>
                    <li><a href="#tools" data-translate="navTools">Study Tools</a></li>
                    <li><a href="#balance" data-translate="navBalance">Work-Life Balance</a></li>
                    <li><a href="#ambitions" data-translate="navAmbitions">Ambitions</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main id="main-content">
        <section id="about">
            <div class="section-header" onclick="toggleSection('about-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="about-content">
                <h2 data-translate="aboutTitle">My Academic Journey</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="about-content">
                <div class="bio-card">
                    <div>
                        <p data-translate="aboutText1">Originally from Belgium, I moved unexpectedly to the UK where I faced the challenge of learning English during sixth form. Despite starting with limited English knowledge, I achieved AAB in French, Mathematics, and Further Mathematics.</p>
                        <p data-translate="aboutText2">My journey wasn't easy - I was failing maths in Belgium due to lack of motivation during the pandemic and family challenges. The education system in Belgium was more theoretical and less engaging for me personally. The UK's practical approach to mathematics, with its emphasis on real-world applications, helped me rediscover my passion for the subject.</p>
                        <p data-translate="aboutText3">Now I'm studying Mechanical Engineering at a Russell Group university, and I created this platform to share what I've learned about effective studying in STEM subjects. My experience of transitioning between two different education systems has given me unique insights into learning methodologies that I want to share with others.</p>
                    </div>
                    
                    <div class="motivation-box">
                        <h3 data-translate="motivationTitle">My Motivation</h3>
                        <ul>
                            <li data-translate="motivation1">To demonstrate that academic transformation is possible with the right mindset and techniques. My own journey from failing maths to achieving top grades in a new language proves this.</li>
                            <li data-translate="motivation2">To break down complex engineering concepts into clear, digestible explanations. I remember struggling with certain topics and want to provide the explanations I wish I had.</li>
                            <li data-translate="motivation3">To share organizational systems that make engineering studies more manageable. Proper note-taking and revision planning were game-changers for me.</li>
                            <li data-translate="motivation4">To create a living resource that evolves with my studies, serving both as a personal knowledge base and a guide for others navigating similar challenges.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="modules">
            <div class="section-header" onclick="toggleSection('modules-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="modules-content">
                <h2 data-translate="modulesTitle">Engineering Modules</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="modules-content">
                <p data-translate="modulesIntro">Below you'll find comprehensive resources for all first-year mechanical engineering modules. Each module is broken down into fundamental topics with detailed explanations, interactive flashcards, practice problems with solutions, and real-world applications to connect theory with practice.</p>
                
                <div class="module-grid" id="module-container" aria-live="polite">
                    <!-- Modules will be loaded dynamically -->
                </div>

                <!-- Module detail sections will be inserted here -->
                <div id="module-details-container" aria-live="polite"></div>
            </div>
        </section>

        <section id="opportunities">
            <div class="section-header" onclick="toggleSection('opportunities-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="opportunities-content">
                <h2 data-translate="navOpportunities">Opportunities</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="opportunities-content">
                <p data-translate="opportunitiesIntro">Explore various opportunities available for mechanical engineering students.</p>
                <ul class="opportunities-list">
                    <li data-translate="internshipOpp">Internship programs with leading engineering firms</li>
                    <li data-translate="researchOpp">Undergraduate research opportunities</li>
                    <li data-translate="competitionOpp">Engineering design competitions</li>
                    <li data-translate="scholarshipOpp">Scholarships and grants</li>
                </ul>
            </div>
        </section>

        <section id="tools">
            <div class="section-header" onclick="toggleSection('tools-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="tools-content">
                <h2 data-translate="navTools">Study Tools</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="tools-content">
                <div class="tools-list">
                    <div class="tool-card">
                        <h4 data-translate="tool1Title">CAD Software</h4>
                        <p data-translate="tool1Desc">Industry-standard tools for 3D modeling and simulation</p>
                    </div>
                    <div class="tool-card">
                        <h4 data-translate="tool2Title">Math Software</h4>
                        <p data-translate="tool2Desc">Tools for symbolic and numerical computation</p>
                    </div>
                    <div class="tool-card">
                        <h4 data-translate="tool3Title">Reference Materials</h4>
                        <p data-translate="tool3Desc">Curated collection of textbooks and online resources</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="balance">
            <div class="section-header" onclick="toggleSection('balance-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="balance-content">
                <h2 data-translate="navBalance">Work-Life Balance</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="balance-content">
                <p data-translate="balanceIntro">Maintaining a healthy balance between academic work and personal life is crucial for long-term success.</p>
                <div class="real-example">
                    <h4 data-translate="balanceTip1">Time Management Techniques</h4>
                    <p data-translate="balanceTip1Desc">Effective scheduling strategies to maximize productivity while preserving personal time.</p>
                </div>
            </div>
        </section>

        <section id="ambitions">
            <div class="section-header" onclick="toggleSection('ambitions-content')" tabindex="0" role="button" aria-expanded="false" aria-controls="ambitions-content">
                <h2 data-translate="navAmbitions">Ambitions</h2>
                <span class="toggle-icon">+</span>
            </div>
            <div class="section-content" id="ambitions-content">
                <p data-translate="ambitionsText">My long-term goals in the field of mechanical engineering and how I plan to achieve them.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; <span id="current-year"></span> <span data-translate="footerText">FS1 Engineering Resources</span></p>
        <p data-translate="footerNote">Created by a mechanical engineering student for students</p>
    </footer>

    <script>
        // Current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // Dark mode toggle
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        darkModeToggle.addEventListener('click', () => {
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            document.body.setAttribute('data-theme', isDark ? 'light' : 'dark');
            localStorage.setItem('theme', isDark ? 'light' : 'dark');
            darkModeToggle.textContent = isDark ? 'üåô' : '‚òÄÔ∏è';
            darkModeToggle.setAttribute('aria-label', isDark ? 'Switch to dark mode' : 'Switch to light mode');
        });
        
        // Check for saved theme preference
        if (localStorage.getItem('theme') === 'dark' || 
            (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'))) {
            document.body.setAttribute('data-theme', 'dark');
            darkModeToggle.textContent = '‚òÄÔ∏è';
            darkModeToggle.setAttribute('aria-label', 'Switch to light mode');
        }

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                document.body.setAttribute('data-theme', e.matches ? 'dark' : 'light');
                darkModeToggle.textContent = e.matches ? '‚òÄÔ∏è' : 'üåô';
                darkModeToggle.setAttribute('aria-label', e.matches ? 'Switch to light mode' : 'Switch to dark mode');
            }
        });
        
        // Toggle section content with keyboard support
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggleIcon = section.previousElementSibling.querySelector('.toggle-icon');
            const isExpanded = section.classList.toggle('active');
            
            toggleIcon.textContent = isExpanded ? '‚àí' : '+';
            section.previousElementSibling.setAttribute('aria-expanded', isExpanded);
            
            // Focus the first interactive element when opening
            if (isExpanded) {
                setTimeout(() => {
                    const focusable = section.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                    if (focusable) focusable.focus();
                }, 100);
            }
        }

        // Add keyboard support for section headers
        document.querySelectorAll('.section-header').forEach(header => {
            header.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const sectionId = header.getAttribute('onclick').match(/'([^']+)'/)[1];
                    toggleSection(sectionId);
                }
            });
        });

        // Language system
        const translations = {
            en: {
                skipLink: "Skip to content",
                siteTitle: "FS1 Engineering",
                siteSubtitle: "Mechanical Engineering Resources",
                navAbout: "About",
                navModules: "Modules",
                navOpportunities: "Opportunities",
                navTools: "Study Tools",
                navBalance: "Work-Life Balance",
                navAmbitions: "Ambitions",
                aboutTitle: "My Academic Journey",
                aboutText1: "Originally from Belgium, I moved unexpectedly to the UK where I faced the challenge of learning English during sixth form. Despite starting with limited English knowledge, I achieved AAB in French, Mathematics, and Further Mathematics.",
                aboutText2: "My journey wasn't easy - I was failing maths in Belgium due to lack of motivation during the pandemic and family challenges. The education system in Belgium was more theoretical and less engaging for me personally. The UK's practical approach to mathematics, with its emphasis on real-world applications, helped me rediscover my passion for the subject.",
                aboutText3: "Now I'm studying Mechanical Engineering at a Russell Group university, and I created this platform to share what I've learned about effective studying in STEM subjects. My experience of transitioning between two different education systems has given me unique insights into learning methodologies that I want to share with others.",
                motivationTitle: "My Motivation",
                motivation1: "To demonstrate that academic transformation is possible with the right mindset and techniques. My own journey from failing maths to achieving top grades in a new language proves this.",
                motivation2: "To break down complex engineering concepts into clear, digestible explanations. I remember struggling with certain topics and want to provide the explanations I wish I had.",
                motivation3: "To share organizational systems that make engineering studies more manageable. Proper note-taking and revision planning were game-changers for me.",
                motivation4: "To create a living resource that evolves with my studies, serving both as a personal knowledge base and a guide for others navigating similar challenges.",
                modulesTitle: "Engineering Modules",
                modulesIntro: "Below you'll find comprehensive resources for all first-year mechanical engineering modules. Each module is broken down into fundamental topics with detailed explanations, interactive flashcards, practice problems with solutions, and real-world applications to connect theory with practice.",
                opportunitiesIntro: "Explore various opportunities available for mechanical engineering students.",
                internshipOpp: "Internship programs with leading engineering firms",
                researchOpp: "Undergraduate research opportunities",
                competitionOpp: "Engineering design competitions",
                scholarshipOpp: "Scholarships and grants",
                tool1Title: "CAD Software",
                tool1Desc: "Industry-standard tools for 3D modeling and simulation",
                tool2Title: "Math Software",
                tool2Desc: "Tools for symbolic and numerical computation",
                tool3Title: "Reference Materials",
                tool3Desc: "Curated collection of textbooks and online resources",
                balanceIntro: "Maintaining a healthy balance between academic work and personal life is crucial for long-term success.",
                balanceTip1: "Time Management Techniques",
                balanceTip1Desc: "Effective scheduling strategies to maximize productivity while preserving personal time.",
                ambitionsText: "My long-term goals in the field of mechanical engineering and how I plan to achieve them.",
                footerText: "FS1 Engineering Resources",
                footerNote: "Created by a mechanical engineering student for students",
                backButton: "Back to Modules",
                topicsTitle: "Topics",
                flashcardsTitle: "Flashcards",
                practiceTitle: "Practice Problems",
                examplesTitle: "Real-World Applications",
                projectsTitle: "Projects",
                showAnswer: "Show Solution",
                hideAnswer: "Hide Solution",
                clickToFlip: "Click to flip",
                flashcardProgress: "Card {current} of {total}"
            },
            fr: {
                skipLink: "Passer au contenu",
                siteTitle: "Ressources d'Ing√©nierie FS1",
                siteSubtitle: "Ressources en Ing√©nierie M√©canique",
                navAbout: "√Ä Propos",
                navModules: "Modules",
                navOpportunities: "Opportunit√©s",
                navTools: "Outils d'√âtude",
                navBalance: "√âquilibre Vie-√âtudes",
                navAmbitions: "Ambitions",
                aboutTitle: "Mon Parcours Acad√©mique",
                aboutText1: "Originaire de Belgique, j'ai d√©m√©nag√© inopin√©ment au Royaume-Uni o√π j'ai d√ª apprendre l'anglais pendant le sixth form. Malgr√© un niveau d'anglais initial limit√©, j'ai obtenu AAB en Fran√ßais, Math√©matiques et Math√©matiques Avanc√©es.",
                aboutText2: "Mon parcours n'a pas √©t√© facile - j'√©chouais en maths en Belgique par manque de motivation pendant la pand√©mie et des probl√®mes familiaux. Le syst√®me √©ducatif belge, plus th√©orique, me correspondait moins. L'approche pratique des math√©matiques au Royaume-Uni, avec son accent sur les applications concr√®tes, m'a permis de retrouver le go√ªt pour cette mati√®re.",
                aboutText3: "Aujourd'hui, j'√©tudie l'Ing√©nierie M√©canique dans une universit√© du Russell Group, et j'ai cr√©√© cette plateforme pour partager ce que j'ai appris sur les m√©thodes d'√©tude efficaces en STEM. Mon exp√©rience de transition entre deux syst√®mes √©ducatifs diff√©rents m'a donn√© des perspectives uniques que je souhaite partager.",
                motivationTitle: "Ma Motivation",
                motivation1: "D√©montrer que la transformation acad√©mique est possible avec le bon √©tat d'esprit et les bonnes techniques. Mon propre parcours, passant de l'√©chec en math√©matiques √† l'obtention de bonnes notes dans une nouvelle langue, en est la preuve.",
                motivation2: "Simplifier les concepts d'ing√©nierie complexes en explications claires et digestes. Je me souviens avoir eu du mal avec certains sujets et je veux fournir les explications que j'aurais aim√© avoir.",
                motivation3: "Partager des syst√®mes d'organisation qui rendent les √©tudes d'ing√©nieur plus g√©rables. La prise de notes structur√©e et la planification des r√©visions ont chang√© ma fa√ßon d'√©tudier.",
                motivation4: "Cr√©er une ressource √©volutive qui grandit avec mes √©tudes, servant √† la fois de base de connaissances personnelle et de guide pour d'autres confront√©s √† des d√©fis similaires.",
                modulesTitle: "Modules d'Ing√©nierie",
                modulesIntro: "Vous trouverez ci-dessous des ressources compl√®tes pour tous les modules de premi√®re ann√©e en ing√©nierie m√©canique. Chaque module est d√©compos√© en sujets fondamentaux avec des explications d√©taill√©es, des flashcards interactives, des probl√®mes pratiques avec solutions et des applications concr√®tes pour relier la th√©orie √† la pratique.",
                opportunitiesIntro: "D√©couvrez les diff√©rentes opportunit√©s disponibles pour les √©tudiants en g√©nie m√©canique.",
                internshipOpp: "Programmes de stage dans des entreprises d'ing√©nierie leaders",
                researchOpp: "Opportunit√©s de recherche pour √©tudiants",
                competitionOpp: "Concours de conception technique",
                scholarshipOpp: "Bourses et subventions",
                tool1Title: "Logiciels CAO",
                tool1Desc: "Outils professionnels pour la mod√©lisation 3D et la simulation",
                tool2Title: "Logiciels Math√©matiques",
                tool2Desc: "Outils pour le calcul symbolique et num√©rique",
                tool3Title: "Mat√©riels de R√©f√©rence",
                tool3Desc: "Collection organis√©e de manuels et ressources en ligne",
                balanceIntro: "Maintenir un √©quilibre sain entre le travail acad√©mique et la vie personnelle est crucial pour le succ√®s √† long terme.",
                balanceTip1: "Techniques de Gestion du Temps",
                balanceTip1Desc: "Strat√©gies de planification efficaces pour maximiser la productivit√© tout en pr√©servant le temps personnel.",
                ambitionsText: "Mes objectifs √† long terme dans le domaine du g√©nie m√©canique et comment je compte les atteindre.",
                footerText: "Ressources d'Ing√©nierie FS1",
                footerNote: "Cr√©√© par un √©tudiant en g√©nie m√©canique pour les √©tudiants",
                backButton: "Retour aux Modules",
                topicsTitle: "Sujets",
                flashcardsTitle: "Flashcards",
                practiceTitle: "Probl√®mes Pratiques",
                examplesTitle: "Applications R√©elles",
                projectsTitle: "Projets",
                showAnswer: "Montrer Solution",
                hideAnswer: "Cacher Solution",
                clickToFlip: "Cliquer pour retourner",
                flashcardProgress: "Carte {current} sur {total}"
            }
        };

        function applyTranslations(lang) {
            document.documentElement.setAttribute('data-language', lang);
            document.documentElement.setAttribute('lang', lang);
            
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.value = translations[lang][key];
                    } else {
                        el.textContent = translations[lang][key];
                    }
                }
            });
        }

        // Language selector
        const languageSelect = document.getElementById('language-select');
        languageSelect.addEventListener('change', (e) => {
            const lang = e.target.value;
            applyTranslations(lang);
            localStorage.setItem('language', lang);
        });

        // Check for saved language preference
        if (localStorage.getItem('language')) {
            const lang = localStorage.getItem('language');
            languageSelect.value = lang;
            applyTranslations(lang);
        }

        // Module
              const modules = [
            {
                id: 'mathematics',
                title: {
                    en: "Engineering Mathematics",
                    fr: "Math√©matiques pour l'Ing√©nierie"
                },
                description: {
                    en: "Core mathematical techniques for engineering analysis and problem-solving.",
                    fr: "Techniques math√©matiques fondamentales pour l'analyse et la r√©solution de probl√®mes en ing√©nierie."
                },
                topics: [
                    {
                        title: {
                            en: "Linear Algebra",
                            fr: "Alg√®bre Lin√©aire"
                        },
                        content: {
                            en: "Vectors, matrices, determinants, systems of linear equations, eigenvalues and eigenvectors. Applications in structural analysis and computer graphics.",
                            fr: "Vecteurs, matrices, d√©terminants, syst√®mes d'√©quations lin√©aires, valeurs propres et vecteurs propres. Applications dans l'analyse structurelle et l'infographie."
                        }
                    },
                    {
                        title: {
                            en: "Calculus",
                            fr: "Calcul Diff√©rentiel et Int√©gral"
                        },
                        content: {
                            en: "Differentiation, integration, multivariable calculus, differential equations. Essential for modeling physical systems and optimization problems.",
                            fr: "D√©rivation, int√©gration, calcul multivariable, √©quations diff√©rentielles. Essentiel pour la mod√©lisation des syst√®mes physiques et les probl√®mes d'optimisation."
                        }
                    },
                    {
                        title: {
                            en: "Numerical Methods",
                            fr: "M√©thodes Num√©riques"
                        },
                        content: {
                            en: "Numerical solutions to equations, interpolation, numerical differentiation and integration. Practical implementation using computational tools.",
                            fr: "Solutions num√©riques d'√©quations, interpolation, diff√©renciation et int√©gration num√©riques. Mise en ≈ìuvre pratique √† l'aide d'outils informatiques."
                        }
                    }
                ],
                flashcards: [
                    {
                        question: {
                            en: "What is the geometric interpretation of the determinant of a 2x2 matrix?",
                            fr: "Quelle est l'interpr√©tation g√©om√©trique du d√©terminant d'une matrice 2x2 ?"
                        },
                        answer: {
                            en: "The determinant represents the scaling factor of the area when the matrix is viewed as a linear transformation. It also indicates whether the transformation preserves orientation (positive determinant) or reverses it (negative determinant).",
                            fr: "Le d√©terminant repr√©sente le facteur d'√©chelle de l'aire lorsque la matrice est vue comme une transformation lin√©aire. Il indique √©galement si la transformation pr√©serve l'orientation (d√©terminant positif) ou l'inverse (d√©terminant n√©gatif)."
                        }
                    },
                    {
                        question: {
                            en: "Explain the physical significance of the gradient in multivariable calculus.",
                            fr: "Expliquez la signification physique du gradient dans le calcul multivariable."
                        },
                        answer: {
                            en: "The gradient of a scalar field points in the direction of the greatest rate of increase of the function, and its magnitude is the slope of the function in that direction. In physics, it represents things like the direction of steepest ascent in a potential field or heat flow in thermodynamics.",
                            fr: "Le gradient d'un champ scalaire pointe dans la direction du taux d'augmentation le plus √©lev√© de la fonction, et son amplitude est la pente de la fonction dans cette direction. En physique, il repr√©sente des √©l√©ments comme la direction de mont√©e la plus raide dans un champ potentiel ou le flux de chaleur en thermodynamique."
                        }
                    }
                ],
                practiceProblems: [
                    {
                        question: {
                            en: "Solve the system of equations: 2x + 3y = 8, x - y = 1",
                            fr: "R√©solvez le syst√®me d'√©quations : 2x + 3y = 8, x - y = 1"
                        },
                        answer: {
                            en: "Solution: x = 2.2, y = 1.2\n\nStep 1: From the second equation, x = y + 1\nStep 2: Substitute into first equation: 2(y + 1) + 3y = 8\nStep 3: Simplify: 2y + 2 + 3y = 8 ‚Üí 5y = 6 ‚Üí y = 1.2\nStep 4: Substitute back: x = 1.2 + 1 = 2.2",
                            fr: "Solution : x = 2,2, y = 1,2\n\n√âtape 1 : √Ä partir de la deuxi√®me √©quation, x = y + 1\n√âtape 2 : Substituer dans la premi√®re √©quation : 2(y + 1) + 3y = 8\n√âtape 3 : Simplifier : 2y + 2 + 3y = 8 ‚Üí 5y = 6 ‚Üí y = 1,2\n√âtape 4 : Substituer √† nouveau : x = 1,2 + 1 = 2,2"
                        }
                    },
                    {
                        question: {
                            en: "Find the derivative of f(x) = 3x¬≤ + 2sin(x) - eÀ£",
                            fr: "Trouvez la d√©riv√©e de f(x) = 3x¬≤ + 2sin(x) - eÀ£"
                        },
                        answer: {
                            en: "Solution: f'(x) = 6x + 2cos(x) - eÀ£\n\nUsing basic differentiation rules:\n- The derivative of x¬≤ is 2x, so 3x¬≤ becomes 6x\n- The derivative of sin(x) is cos(x), so 2sin(x) becomes 2cos(x)\n- The derivative of eÀ£ is eÀ£, so -eÀ£ stays as -eÀ£",
                            fr: "Solution : f'(x) = 6x + 2cos(x) - eÀ£\n\nEn utilisant les r√®gles de base de diff√©renciation :\n- La d√©riv√©e de x¬≤ est 2x, donc 3x¬≤ devient 6x\n- La d√©riv√©e de sin(x) est cos(x), donc 2sin(x) devient 2cos(x)\n- La d√©riv√©e de eÀ£ est eÀ£, donc -eÀ£ reste -eÀ£"
                        }
                    }
                ],
                realExamples: [
                    {
                        title: {
                            en: "Structural Analysis Application",
                            fr: "Application en Analyse Structurelle"
                        },
                        content: {
                            en: "Linear algebra is fundamental in structural analysis for solving systems of equations that represent forces in truss structures. The stiffness matrix method uses matrix operations to determine displacements and stresses in complex structures.",
                            fr: "L'alg√®bre lin√©aire est fondamentale dans l'analyse structurelle pour r√©soudre des syst√®mes d'√©quations qui repr√©sentent les forces dans les structures de treillis. La m√©thode de la matrice de rigidit√© utilise des op√©rations matricielles pour d√©terminer les d√©placements et les contraintes dans des structures complexes."
                        }
                    }
                ]
            },
            {
                id: 'thermodynamics',
                title: {
                    en: "Thermodynamics",
                    fr: "Thermodynamique"
                },
                description: {
                    en: "Study of energy, heat, work, and their transformations in physical systems.",
                    fr: "√âtude de l'√©nergie, de la chaleur, du travail et de leurs transformations dans les syst√®mes physiques."
                },
                topics: [
                    {
                        title: {
                            en: "First Law of Thermodynamics",
                            fr: "Premier Principe de la Thermodynamique"
                        },
                        content: {
                            en: "Energy conservation principle: ŒîU = Q - W. Applications to closed and open systems, enthalpy, and heat capacity.",
                            fr: "Principe de conservation de l'√©nergie : ŒîU = Q - W. Applications aux syst√®mes ferm√©s et ouverts, enthalpie et capacit√© thermique."
                        }
                    },
                    {
                        title: {
                            en: "Second Law of Thermodynamics",
                            fr: "Deuxi√®me Principe de la Thermodynamique"
                        },
                        content: {
                            en: "Entropy and the direction of spontaneous processes. Carnot cycle, heat engines, refrigerators, and heat pumps.",
                            fr: "Entropie et direction des processus spontan√©s. Cycle de Carnot, moteurs thermiques, r√©frig√©rateurs et pompes √† chaleur."
                        }
                    }
                ],
                flashcards: [
                    {
                        question: {
                            en: "What is the difference between heat and work in thermodynamics?",
                            fr: "Quelle est la diff√©rence entre la chaleur et le travail en thermodynamique ?"
                        },
                        answer: {
                            en: "Both heat and work are energy transfer mechanisms, but heat is energy transfer due to temperature difference, while work is energy transfer due to macroscopic force acting through a distance. Heat is a disorganized form of energy transfer at the molecular level, while work is organized energy transfer.",
                            fr: "La chaleur et le travail sont tous deux des m√©canismes de transfert d'√©nergie, mais la chaleur est un transfert d'√©nergie d√ª √† une diff√©rence de temp√©rature, tandis que le travail est un transfert d'√©nergie d√ª √† une force macroscopique agissant sur une distance. La chaleur est une forme d√©sorganis√©e de transfert d'√©nergie au niveau mol√©culaire, tandis que le travail est un transfert d'√©nergie organis√©."
                        }
                    }
                ],
                practiceProblems: [
                    {
                        question: {
                            en: "A gas expands from 2 L to 5 L at constant pressure of 3 atm. Calculate the work done by the gas.",
                            fr: "Un gaz se dilate de 2 L √† 5 L √† une pression constante de 3 atm. Calculez le travail effectu√© par le gaz."
                        },
                        answer: {
                            en: "Solution: W = PŒîV = 3 atm √ó (5 L - 2 L) = 9 L¬∑atm\nConvert to joules: 9 L¬∑atm √ó 101.325 J/(L¬∑atm) ‚âà 911.93 J\n\nWork done by the gas is approximately 911.93 joules.",
                            fr: "Solution : W = PŒîV = 3 atm √ó (5 L - 2 L) = 9 L¬∑atm\nConvertir en joules : 9 L¬∑atm √ó 101,325 J/(L¬∑atm) ‚âà 911,93 J\n\nLe travail effectu√© par le gaz est d'environ 911,93 joules."
                        }
                    }
                ],
                realExamples: [
                    {
                        title: {
                            en: "Internal Combustion Engines",
                            fr: "Moteurs √† Combustion Interne"
                        },
                        content: {
                            en: "The Otto cycle (spark-ignition engines) and Diesel cycle (compression-ignition engines) are practical applications of thermodynamic principles. These cycles demonstrate how thermal energy is converted to mechanical work in automotive engines.",
                            fr: "Le cycle Otto (moteurs √† allumage command√©) et le cycle Diesel (moteurs √† allumage par compression) sont des applications pratiques des principes thermodynamiques. Ces cycles montrent comment l'√©nergie thermique est convertie en travail m√©canique dans les moteurs automobiles."
                        }
                    }
                ]
            }
        ];

        // Load modules
        function loadModules() {
            const container = document.getElementById('module-container');
            const lang = localStorage.getItem('language') || 'en';
            
            // Show loading state
            container.innerHTML = '<div class="loader"></div>';
            
            // Simulate loading delay (in real app, this would be an API call)
            setTimeout(() => {
                container.innerHTML = '';
                
                modules.forEach(module => {
                    const card = document.createElement('div');
                    card.className = 'module-card';
                    card.innerHTML = `
                        <div class="module-header">
                            <h3>${module.title[lang] || module.title.en}</h3>
                        </div>
                        <div class="module-body">
                            <p>${module.description[lang] || module.description.en}</p>
                            <button class="view-module-btn" data-module="${module.id}">
                                ${translations[lang]?.viewModule || 'View Module'}
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                });

                // Add event listeners to module buttons
                document.querySelectorAll('.view-module-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const moduleId = e.target.getAttribute('data-module');
                        showModuleDetails(moduleId);
                    });
                });
            }, 500);
        }

        // Show module details
        function showModuleDetails(moduleId) {
            const module = modules.find(m => m.id === moduleId);
            const lang = localStorage.getItem('language') || 'en';
            const container = document.getElementById('module-details-container');
            
            // Show loading state
            container.innerHTML = '<div class="loader"></div>';
            
            // Simulate loading delay
            setTimeout(() => {
                // Create back button
                const backButton = document.createElement('a');
                backButton.className = 'back-button';
                backButton.href = '#';
                backButton.setAttribute('data-translate', 'backButton');
                backButton.textContent = translations[lang].backButton;
                backButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    container.innerHTML = '';
                    document.getElementById('modules-content').scrollIntoView({ behavior: 'smooth' });
                });

                // Create module details
                const details = document.createElement('div');
                details.className = 'module-details';
                details.innerHTML = `
                    <h2>${module.title[lang] || module.title.en}</h2>
                    <p>${module.description[lang] || module.description.en}</p>
                    
                    <h3 data-translate="topicsTitle">Topics</h3>
                    <ul class="topic-list">
                        ${module.topics.map(topic => `
                            <li onclick="toggleTopicContent(this)" tabindex="0" role="button" aria-expanded="false">
                                <span>${topic.title[lang] || topic.title.en}</span>
                                <span>+</span>
                                <div class="topic-content">
                                    <p>${topic.content[lang] || topic.content.en}</p>
                                </div>
                            </li>
                        `).join('')}
                    </ul>
                    
                    <h3 data-translate="flashcardsTitle">Flashcards</h3>
                    <div class="flashcard-container" id="${moduleId}-flashcards">
                        <div class="flashcard-counter" id="${moduleId}-flashcard-counter">
                            ${translations[lang].flashcardProgress.replace('{current}', 1).replace('{total}', module.flashcards.length)}
                        </div>
                        <div class="flashcard" onclick="flipFlashcard(this)" id="${moduleId}-flashcard-0" tabindex="0" role="button" aria-label="${translations[lang].clickToFlip}">
                            <div class="flashcard-front">
                                <p>${module.flashcards[0].question[lang] || module.flashcards[0].question.en}</p>
                                <small data-translate="clickToFlip">Click to flip</small>
                            </div>
                            <div class="flashcard-back">
                                <p>${module.flashcards[0].answer[lang] || module.flashcards[0].answer.en}</p>
                            </div>
                        </div>
                        <div class="flashcard-navigation">
                            <button class="flashcard-btn" onclick="prevFlashcard('${moduleId}')" disabled id="${moduleId}-prev-btn">‚Üê</button>
                            <button class="flashcard-btn" onclick="nextFlashcard('${moduleId}')" ${module.flashcards.length > 1 ? '' : 'disabled'} id="${moduleId}-next-btn">‚Üí</button>
                        </div>
                    </div>
                    
                    <h3 data-translate="practiceTitle">Practice Problems</h3>
                    ${module.practiceProblems.map((problem, index) => `
                        <div class="practice-question">
                            <p><strong>${translations[lang].practiceTitle} ${index + 1}:</strong> ${problem.question[lang] || problem.question.en}</p>
                            <button class="show-solution-btn" onclick="toggleSolution(this)">
                                <span data-translate="showAnswer">Show Solution</span>
                            </button>
                            <div class="solution" style="display: none;">
                                <p><strong>${translations[lang].solution}:</strong> ${problem.answer[lang] || problem.answer.en}</p>
                            </div>
                        </div>
                    `).join('')}
                    
                    ${module.realExamples ? `
                    <h3 data-translate="examplesTitle">Real-World Applications</h3>
                    ${module.realExamples.map(example => `
                        <div class="real-example">
                            <h4>${example.title[lang] || example.title.en}</h4>
                            <p>${example.content[lang] || example.content.en}</p>
                        </div>
                    `).join('')}
                    ` : ''}
                `;

                container.innerHTML = '';
                container.appendChild(backButton);
                container.appendChild(details);
                applyTranslations(lang);
                container.scrollIntoView({ behavior: 'smooth' });
                
                // Add keyboard support for topic items
                document.querySelectorAll('.topic-list li').forEach(item => {
                    item.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            toggleTopicContent(item);
                        }
                    });
                });
                
                // Add keyboard support for flashcards
                document.querySelectorAll('.flashcard').forEach(card => {
                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            flipFlashcard(card);
                        }
                    });
                });
            }, 500);
        }

        // Toggle topic content
        window.toggleTopicContent = function(element) {
            const content = element.querySelector('.topic-content');
            const toggleIcon = element.querySelector('span:last-child');
            const isExpanded = content.classList.toggle('active');
            
            toggleIcon.textContent = isExpanded ? '‚àí' : '+';
            element.setAttribute('aria-expanded', isExpanded);
        };

        // Flip flashcard
        window.flipFlashcard = function(element) {
            element.classList.toggle('flipped');
        };

        // Flashcard navigation
        let currentFlashcards = {};
        
        window.nextFlashcard = function(moduleId) {
            if (!currentFlashcards[moduleId]) currentFlashcards[moduleId] = 0;
            const module = modules.find(m => m.id === moduleId);
            
            if (currentFlashcards[moduleId] < module.flashcards.length - 1) {
                currentFlashcards[moduleId]++;
                updateFlashcard(moduleId);
            }
        };

        window.prevFlashcard = function(moduleId) {
            if (!currentFlashcards[moduleId]) currentFlashcards[moduleId] = 0;
            
            if (currentFlashcards[moduleId] > 0) {
                currentFlashcards[moduleId]--;
                updateFlashcard(moduleId);
            }
        };

        function updateFlashcard(moduleId) {
            const module = modules.find(m => m.id === moduleId);
            const lang = localStorage.getItem('language') || 'en';
            const currentIndex = currentFlashcards[moduleId];
            const flashcard = document.getElementById(`${moduleId}-flashcard-${currentIndex}`);
            
            // Create new flashcard if it doesn't exist
            if (!flashcard) {
                const container = document.getElementById(`${moduleId}-flashcards`);
                const newFlashcard = document.createElement('div');
                newFlashcard.className = 'flashcard';
                newFlashcard.id = `${moduleId}-flashcard-${currentIndex}`;
                newFlashcard.tabIndex = 0;
                newFlashcard.setAttribute('role', 'button');
                newFlashcard.setAttribute('aria-label', translations[lang].clickToFlip);
                newFlashcard.onclick = function() { flipFlashcard(this); };
                newFlashcard.onkeydown = function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        flipFlashcard(this);
                    }
                };
                newFlashcard.innerHTML = `
                    <div class="flashcard-front">
                        <p>${module.flashcards[currentIndex].question[lang] || module.flashcards[currentIndex].question.en}</p>
                        <small data-translate="clickToFlip">Click to flip</small>
                    </div>
                    <div class="flashcard-back">
                        <p>${module.flashcards[currentIndex].answer[lang] || module.flashcards[currentIndex].answer.en}</p>
                    </div>
                `;
                
                // Replace the current flashcard
                const oldFlashcard = container.querySelector('.flashcard');
                container.insertBefore(newFlashcard, oldFlashcard);
                container.removeChild(oldFlashcard);
            }
            
            // Update counter
            const counter = document.getElementById(`${moduleId}-flashcard-counter`);
            counter.textContent = translations[lang].flashcardProgress
                .replace('{current}', currentIndex + 1)
                .replace('{total}', module.flashcards.length);
            
            // Update button states
            document.getElementById(`${moduleId}-prev-btn`).disabled = currentIndex === 0;
            document.getElementById(`${moduleId}-next-btn`).disabled = currentIndex === module.flashcards.length - 1;
        }

        // Toggle solution visibility
        window.toggleSolution = function(button) {
            const solution = button.nextElementSibling;
            const lang = localStorage.getItem('language') || 'en';
            
            if (solution.style.display === 'none') {
                solution.style.display = 'block';
                button.innerHTML = `<span data-translate="hideAnswer">Hide Solution</span>`;
            } else {
                solution.style.display = 'none';
                button.innerHTML = `<span data-translate="showAnswer">Show Solution</span>`;
            }
            applyTranslations(lang);
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Add missing translations
            translations.en.solution = "Solution";
            translations.fr.solution = "Solution";
            translations.en.viewModule = "View Module";
            translations.fr.viewModule = "Voir Module";
            
            loadModules();
            
            // Open first section by default
            toggleSection('about-content');
            
            // Apply translations if language is set
            if (localStorage.getItem('language')) {
                applyTranslations(localStorage.getItem('language'));
            }
        });
    </script>
</body>
</html>
